<!doctype html>
<html>

<head>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.3.3/d3.js"></script>
	<!-- <script type="text/javascript" src="vendor/d3.js"></script> -->
	<script type="text/javascript" src="vendor/colorbrewer.js"></script>
	<script type="text/javascript" src="vendor/signals.js"></script>

	<script type="text/javascript" src="src/model.js"></script>
	<script type="text/javascript" src="src/SpectrumView2.js"></script>
	<script type="text/javascript" src="src/FragmentationKeyView.js"></script>
	<script type="text/javascript" src="src/FragmentationKey.js"></script>
	<script type="text/javascript" src="src/graph/Graph.js"></script>		
	<script type="text/javascript" src="src/graph/Peak.js"></script>	
	<script type="text/javascript" src="src/graph/Fragment.js"></script>	


	<style>
	body {
		font: 14px sans-serif;
		margin: 15px 20px;
	}
	h2 {
		margin: 0 0 5px;
	}
	</style>

	<script>


	var SpectrumViewer = new SpectrumViewer();


	$(function() {
		var FragmentationKey = new FragmentationKeyView({model: SpectrumViewer});
		var Graph = new SpectrumView({model: SpectrumViewer});
		

		d3.text("test.csv", function(csv) {
			SpectrumViewer.set({annotatedPeaksCSV: csv});
			//console.log(SpectrumViewer.get("annotatedPeaksCSV"));
			//console.log(SpectrumViewer.get("xMax"));
		});

		//SpectrumViewer.set({test: "test"});		

/*		d3.csv("test.csv", function(error, data) {
			data.forEach(function(d) {
				d.expmz = +d.expmz;
				d.absolute_intensity = +d.absolute_intensity;
			});
			//console.log(data);
			json = JSON.stringify(data);
			//console.log(json);
			
			specView.set({
				annotatedPeaksjson: json,
				annotatedPeaks: data,
			});
			//console.log(specView.get("annotatedPeaks"));
			console.log(specView.get("pep1"));
		});*/


});
	</script>
</head>

<body>
	<div id='fragKeyDiv'></div>
	<div id='spectrumDiv'>
	</div>


</body>

</html>
